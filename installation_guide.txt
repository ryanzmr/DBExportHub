# DBExportHub Installation Guide

This guide provides step-by-step instructions for setting up the DBExportHub application on a new machine or server. Follow these instructions to install all required dependencies and get the application running.

## Prerequisites

- Python 3.8 or higher
- Node.js 16 or higher
- SQL Server (any recent version)
- SQL Server ODBC Driver 17 or compatible

## 1. Clone the Repository

```bash
# Using HTTPS
git clone https://github.com/your-org/DBExportHub.git

# Or using SSH
git clone git@github.com:your-org/DBExportHub.git

# Navigate to the project directory
cd DBExportHub
```

## 2. Backend Setup

### 2.1. Create and Activate a Virtual Environment

#### Windows (Command Prompt)
```cmd
cd backend
python -m venv venv
venv\Scripts\activate
```

#### Windows (PowerShell)
```powershell
cd backend
python -m venv venv
.\venv\Scripts\Activate.ps1
```

#### Linux/macOS
```bash
cd backend
python -m venv venv
source venv/bin/activate
```

### 2.2. Install Python Dependencies

```bash
pip install -r requirements.txt
```

This will install the following dependencies:
- FastAPI (>=0.68.0)
- Uvicorn (>=0.15.0)
- PyODBC (>=4.0.32)
- Pandas (>=1.3.3)
- Python-dotenv (>=0.19.0)
- Pydantic (>=1.8.2)
- OpenPyXL (>=3.0.9)
- Python-multipart (>=0.0.5)
- PyJWT (>=2.3.0)
- NumPy (>=1.20.0)
- Pathlib (>=1.0.1)
- JSON5 (>=0.9.6)
- tempfile (>=0.0.1)
- uuid (>=1.30)

### 2.3. Configure Environment Variables

#### Windows (Command Prompt)
```cmd
cd backend
echo SECRET_KEY=your_secret_key_here > .env
echo ACCESS_TOKEN_EXPIRE_MINUTES=30 >> .env
```

#### Windows (PowerShell)
```powershell
cd backend
Set-Content -Path .env -Value "SECRET_KEY=your_secret_key_here"
Add-Content -Path .env -Value "ACCESS_TOKEN_EXPIRE_MINUTES=30"
```

#### Linux/macOS
```bash
cd backend
echo "SECRET_KEY=your_secret_key_here" > .env
echo "ACCESS_TOKEN_EXPIRE_MINUTES=30" >> .env
```

### 2.4. Run the Backend Server

#### Windows/Linux/macOS
```bash
# Make sure you're in the backend directory with the virtual environment activated
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

The API will be available at http://localhost:8000

## 3. Frontend Setup

### 3.1. Install Node.js Dependencies

#### Windows/Linux/macOS
```bash
# Navigate to the frontend directory
cd frontend

# Install dependencies
npm install
```

This will install the following dependencies:
- React (^18.2.0)
- React DOM (^18.2.0)
- React Router DOM (^6.11.1)
- Material-UI (^5.16.14)
- Axios (^1.4.0)
- And other dependencies specified in package.json

### 3.2. Configure Environment Variables

#### Windows (Command Prompt)
```cmd
cd frontend
echo VITE_API_URL=http://localhost:8000 > .env
```

#### Windows (PowerShell)
```powershell
cd frontend
Set-Content -Path .env -Value "VITE_API_URL=http://localhost:8000"
```

#### Linux/macOS
```bash
cd frontend
echo "VITE_API_URL=http://localhost:8000" > .env
```

### 3.3. Run the Frontend Development Server

#### Windows/Linux/macOS
```bash
# Make sure you're in the frontend directory
npm run dev
```

The application will be available at http://localhost:5173

### 3.4. Build for Production (Optional)

#### Windows/Linux/macOS
```bash
# Make sure you're in the frontend directory
npm run build
```

The production-ready files will be available in the `dist` directory.

## 4. Troubleshooting

### 4.1. SQL Server ODBC Driver Installation

#### Windows
- Download and install the Microsoft ODBC Driver for SQL Server from the Microsoft website
- Verify installation with: `Get-ItemProperty 'HKLM:\SOFTWARE\ODBC\ODBCINST.INI\ODBC Drivers'`

#### Linux
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install -y msodbcsql17

# RHEL/CentOS
sudo yum install -y msodbcsql17
```

#### macOS
```bash
# Using Homebrew
brew tap microsoft/mssql-release https://github.com/Microsoft/homebrew-mssql-release
brew update
brew install msodbcsql17
```

### 4.2. Common Issues

- If you encounter `ModuleNotFoundError`, ensure your virtual environment is activated
- For database connection issues, verify your SQL Server is running and accessible
- For frontend build errors, ensure you have the correct Node.js version installed

## 5. Additional Resources

- FastAPI Documentation: https://fastapi.tiangolo.com/
- React Documentation: https://reactjs.org/docs/getting-started.html
- Material-UI Documentation: https://mui.com/
- SQL Server ODBC Driver Documentation: https://docs.microsoft.com/en-us/sql/connect/odbc/